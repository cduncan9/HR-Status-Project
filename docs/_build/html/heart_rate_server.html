
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>heart_rate_server module &#8212; heart-rate-sentinel-server 2020 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Welcome to heart-rate-sentinel-server’s documentation!" href="index.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="module-heart_rate_server">
<span id="heart-rate-server-module"></span><h1>heart_rate_server module<a class="headerlink" href="#module-heart_rate_server" title="Permalink to this headline">¶</a></h1>
<dl class="py function">
<dt id="heart_rate_server.add_attendant_to_db">
<code class="sig-prename descclassname">heart_rate_server.</code><code class="sig-name descname">add_attendant_to_db</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">info</span></em>, <em class="sig-param"><span class="n">db</span></em><span class="sig-paren">)</span><a class="headerlink" href="#heart_rate_server.add_attendant_to_db" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates an attendant dictionary and adds it to database</p>
<p>Attendant info is input as a list and dictionary is created
containing all the required keys specified on GitHub which
is then added to the global attendant database variable</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>info</strong> – list containing attendant info</p></li>
<li><p><strong>db</strong> – list containing attendant dictionaries</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="heart_rate_server.add_heart_rate_to_patient_db">
<code class="sig-prename descclassname">heart_rate_server.</code><code class="sig-name descname">add_heart_rate_to_patient_db</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">hr_info</span></em>, <em class="sig-param"><span class="n">timestamp</span></em><span class="sig-paren">)</span><a class="headerlink" href="#heart_rate_server.add_heart_rate_to_patient_db" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds patient heart rate to database</p>
<p>Takes in patient heart rate info and timestamp and adds
heart rate data and timestamp to patient’s dictionary</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>hr_info</strong> – list containing patient ID and heart rate data point</p></li>
<li><p><strong>timestamp</strong> – str containing timestamp following format on GitHub</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if patient found and info added,
str “Error in adding hear rate info to database” otherwise</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="heart_rate_server.add_patient_to_attendant_db">
<code class="sig-prename descclassname">heart_rate_server.</code><code class="sig-name descname">add_patient_to_attendant_db</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">info</span></em>, <em class="sig-param"><span class="n">db</span></em><span class="sig-paren">)</span><a class="headerlink" href="#heart_rate_server.add_patient_to_attendant_db" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds patient ID to corresponding attendant’s list of patients</p>
<p>This method looks through the list of attendant dictionaries for
the input patient’s attendant. If the attendant is found the patient’s
ID is appended to the attendant’s list of patients.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>info</strong> – list of patient info</p></li>
<li><p><strong>db</strong> – list of attendant dictionaries</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>False if patient’s attendant is found, True if patients’s
attendant not found</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="heart_rate_server.add_patient_to_db">
<code class="sig-prename descclassname">heart_rate_server.</code><code class="sig-name descname">add_patient_to_db</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">info</span></em><span class="sig-paren">)</span><a class="headerlink" href="#heart_rate_server.add_patient_to_db" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a patient dictionary and adds it to database</p>
<p>Patient info is input as a list and dictionary is created
containing all the required keys specified on GitHub which
is then added to the global patient database variable</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>info</strong> – list containing patient info</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="heart_rate_server.check_bad_input">
<code class="sig-prename descclassname">heart_rate_server.</code><code class="sig-name descname">check_bad_input</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">input</span></em><span class="sig-paren">)</span><a class="headerlink" href="#heart_rate_server.check_bad_input" title="Permalink to this definition">¶</a></dt>
<dd><p>checks if input contains non-numeric characters</p>
<p>Patient IDs can be input in strings or integers. If the
type of the input is not a string, we know it is an integer
and a valid patient ID. If it is a string we need to check if
it contains any non-numeric characters which is done with
.isdigit()</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>input</strong> – str or in containing Patient ID</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if input is bad, False if input is good</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="heart_rate_server.check_heart_rate">
<code class="sig-prename descclassname">heart_rate_server.</code><code class="sig-name descname">check_heart_rate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">hr_info</span></em>, <em class="sig-param"><span class="n">timestamp</span></em><span class="sig-paren">)</span><a class="headerlink" href="#heart_rate_server.check_heart_rate" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks heart rate and sends email if tachycardic</p>
<p>Checks heart rate for tachyrcardia by callin is_tachycardic function
and send email by calling send_email function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>hr_info</strong> – list containing int patient ID and
int heart rate data point</p></li>
<li><p><strong>timestamp</strong> – str containing timestamp</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>str of email text if email sent,
True otherwise</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="heart_rate_server.current_time">
<code class="sig-prename descclassname">heart_rate_server.</code><code class="sig-name descname">current_time</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">time_input</span></em><span class="sig-paren">)</span><a class="headerlink" href="#heart_rate_server.current_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Turns input datetime object into a string</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>time_input</strong> – datetime object</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>str of datetime object</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="heart_rate_server.find_first_time">
<code class="sig-prename descclassname">heart_rate_server.</code><code class="sig-name descname">find_first_time</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">time_input</span></em>, <em class="sig-param"><span class="n">data</span></em><span class="sig-paren">)</span><a class="headerlink" href="#heart_rate_server.find_first_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds first time in list of timestamps equal to or after input timestamp</p>
<p>This method is used for the interval average route. The first index of the
heart rate data list that occurs at or after the input timestamp
must be found. This function finds that index.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>time_input</strong> – datetime object containing input timestamp</p></li>
<li><p><strong>data</strong> – list of patient heart rate timestamps</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>int containing first index of interval</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="heart_rate_server.find_patient">
<code class="sig-prename descclassname">heart_rate_server.</code><code class="sig-name descname">find_patient</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">patient_id</span></em>, <em class="sig-param"><span class="n">db</span></em><span class="sig-paren">)</span><a class="headerlink" href="#heart_rate_server.find_patient" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns specified patient dictionary</p>
<p>This method takes in the patient ID and patient database and
outputs the dictionary containing the specified patient’s info.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>patient_id</strong> – int containing patient ID</p></li>
<li><p><strong>db</strong> – list of patient dictionaries</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>dictionary of patient data, str “Patient not found” and
error 400 if patient not found</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="heart_rate_server.find_physician_email">
<code class="sig-prename descclassname">heart_rate_server.</code><code class="sig-name descname">find_physician_email</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">patient_id</span></em><span class="sig-paren">)</span><a class="headerlink" href="#heart_rate_server.find_physician_email" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds patient’s physician email</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>patient_id</strong> – int containing patient ID</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>str containing attendant email if attendant found,
False otherwise</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="heart_rate_server.get_patient_average_heart_rate">
<code class="sig-prename descclassname">heart_rate_server.</code><code class="sig-name descname">get_patient_average_heart_rate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">patient_id</span></em>, <em class="sig-param"><span class="n">db</span></em><span class="sig-paren">)</span><a class="headerlink" href="#heart_rate_server.get_patient_average_heart_rate" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the average of the patient’s heart rate data</p>
<p>This method takes in the patient ID and patient database and
outputs the specified patient’s average heart rate.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>patient_id</strong> – int containing patient ID</p></li>
<li><p><strong>db</strong> – list of patient dictionaries</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>int containing patient’s average heart rate data,
str “Patient not found” and error 400 if not found</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="heart_rate_server.get_patient_avg_heart_rate">
<code class="sig-prename descclassname">heart_rate_server.</code><code class="sig-name descname">get_patient_avg_heart_rate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">patient_id</span></em><span class="sig-paren">)</span><a class="headerlink" href="#heart_rate_server.get_patient_avg_heart_rate" title="Permalink to this definition">¶</a></dt>
<dd><p>This function returns the average heart_rate for a patient</p>
<p>This function is for a GET request and receives a patient_id
as part of a variable URL. The function gets the average
heart_rate for the corresponding patient_id and sends it to a
client in a JSON format.
:param patient_id: a number corresponding to a patient in patient_db
:return: a float of the average heart_rate for a patient</p>
</dd></dl>

<dl class="py function">
<dt id="heart_rate_server.get_patient_heart_data">
<code class="sig-prename descclassname">heart_rate_server.</code><code class="sig-name descname">get_patient_heart_data</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">patient_id</span></em><span class="sig-paren">)</span><a class="headerlink" href="#heart_rate_server.get_patient_heart_data" title="Permalink to this definition">¶</a></dt>
<dd><p>This function returns a list of heart rates for a patient.</p>
<p>This function is for a GET request and receives a patient_id
as part of a variable URL. The function gets the list of
heart_rate for the corresponding patient_id and sends it to a
client in a JSON format.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>patient_id</strong> – a number corresponding to a patient in patient_db</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list of heart rates for that patient</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="heart_rate_server.get_patient_heart_rates">
<code class="sig-prename descclassname">heart_rate_server.</code><code class="sig-name descname">get_patient_heart_rates</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">patient_id</span></em>, <em class="sig-param"><span class="n">db</span></em><span class="sig-paren">)</span><a class="headerlink" href="#heart_rate_server.get_patient_heart_rates" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns list of patient heart rate data</p>
<p>This method takes in the patient ID and patient database and
outputs the list of the specified patient’s heart rate data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>patient_id</strong> – int containing patient ID</p></li>
<li><p><strong>db</strong> – list of patient dictionaries</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list of patient heart rate data, str “Patient not found” and
error 400 if not found</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="heart_rate_server.get_patient_id_list">
<code class="sig-prename descclassname">heart_rate_server.</code><code class="sig-name descname">get_patient_id_list</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">attending_username</span></em><span class="sig-paren">)</span><a class="headerlink" href="#heart_rate_server.get_patient_id_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns attendant’s list of patients</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>attending_username</strong> – str containing attendant username</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list of ints containing patient IDs</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="heart_rate_server.get_patient_status">
<code class="sig-prename descclassname">heart_rate_server.</code><code class="sig-name descname">get_patient_status</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">patient_id</span></em><span class="sig-paren">)</span><a class="headerlink" href="#heart_rate_server.get_patient_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Outputs dictionary containing patient status</p>
<p>This function takes in a patinent ID, finds them in the patient
database, and builds a containing the status information which
is then output.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>patient_id</strong> – int containing patient ID</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>dictionary of patient status if patient found,
str “Patient not found” if patient not found</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="heart_rate_server.get_patients_for_attending_username">
<code class="sig-prename descclassname">heart_rate_server.</code><code class="sig-name descname">get_patients_for_attending_username</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">attending_username</span></em><span class="sig-paren">)</span><a class="headerlink" href="#heart_rate_server.get_patients_for_attending_username" title="Permalink to this definition">¶</a></dt>
<dd><p>This function returns a list of patient information for a
specific physician</p>
<p>This function is for a GET request and receives an attending_username
as part of a variable URL. This function first checks to see if the
attending_username is stored in the database. If the
attending_username is not in the database then a string is returned
notifying the client. Then this function calls a function that gets
the list of patient_id for the attending_username. For each
patient_id, a dictionary is stored in a list that contains the
patient_id, last_heart_rate, last_time, and status. This list
of patient dictionaries is then returned to the client.
:param attending_username: the username used by a physician
:return: a list containing dictionaries of patient information</p>
</dd></dl>

<dl class="py function">
<dt id="heart_rate_server.get_status">
<code class="sig-prename descclassname">heart_rate_server.</code><code class="sig-name descname">get_status</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">patient_id</span></em><span class="sig-paren">)</span><a class="headerlink" href="#heart_rate_server.get_status" title="Permalink to this definition">¶</a></dt>
<dd><p>This function returns the status of a patient</p>
<p>This function is for a GET request and receives a patient_id
as part of a variable URL. The function returns a dictionary
containing the most recent heart_rate, timestamp, and the
status for the corresponding patient_id and sends it to a
client in a JSON format.
:param patient_id: a number corresponding to a patient in patient_db
:return: a dictionary containing the most recent heart_rate,
timestamp, and the status</p>
</dd></dl>

<dl class="py function">
<dt id="heart_rate_server.is_tachycardic">
<code class="sig-prename descclassname">heart_rate_server.</code><code class="sig-name descname">is_tachycardic</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">age</span></em>, <em class="sig-param"><span class="n">hr</span></em><span class="sig-paren">)</span><a class="headerlink" href="#heart_rate_server.is_tachycardic" title="Permalink to this definition">¶</a></dt>
<dd><p>determines based on age if heart rate is tachycardic</p>
<p>Tachycardia is a heart condition in which the heart beats abnormally
fast. The conditions for diagnosing tachycardia that were employed in
this function were taken from “<a class="reference external" href="https://en.wikipedia.org/wiki/Tachycardia">https://en.wikipedia.org/wiki/Tachycardia</a>”</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>age</strong> – int containing patient’s age</p></li>
<li><p><strong>hr</strong> – int containin patient’s heart rate</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if tachycardic and False if not tachycardic</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="heart_rate_server.patients_for_attending_username">
<code class="sig-prename descclassname">heart_rate_server.</code><code class="sig-name descname">patients_for_attending_username</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">patient_id_list</span></em><span class="sig-paren">)</span><a class="headerlink" href="#heart_rate_server.patients_for_attending_username" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes in list of patients and builds a list of dictionaries</p>
<p>Builds list of dictionaries of the following format:
{“patient_id”: patient[“patient_id”],</p>
<blockquote>
<div><p>“last_heart_rate”: last_heart_rate,
“last_time”: last_time,
“status”: patient[“status”]}
from an input list of integers containing patient IDs</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>patient_id_list</strong> – list of ints containing patient IDs</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list of dictionaries containing patient info
in the above format</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="heart_rate_server.post_heart_rate">
<code class="sig-prename descclassname">heart_rate_server.</code><code class="sig-name descname">post_heart_rate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#heart_rate_server.post_heart_rate" title="Permalink to this definition">¶</a></dt>
<dd><p>This function stores a heart rate and timestamp for a patient</p>
<p>This function receives a dictionary containing a patient_id and
a heart_rate. This function first verifies that the dictionary sent has
the correct key names and value types. If the input data
is not correct, then an error string and a status code of 400
is returned to the client. Then this function stores the current
time in a datetime object. This function calls the function
current_time which converts the datetime object to a string.
The heart_rate and timestamp are then added to the database for
the dictionary with the corresponding patient_id. If there is no
such patient_id then an error is returned. Then this function
calls the function check_heart_rate(). If the heart_rate is
tachycardic then the function check_heart_rate() will trigger
an email being sent to the patient’s attending physician, and
a string will be returned to the client notifying them of this.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A string signaling if the heart rate is
properly added to the database. If the heart rate is tachycardic,
then a string signaling that an email was sent to the physician is
returned.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="heart_rate_server.post_interval_average">
<code class="sig-prename descclassname">heart_rate_server.</code><code class="sig-name descname">post_interval_average</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#heart_rate_server.post_interval_average" title="Permalink to this definition">¶</a></dt>
<dd><p>This function returns the average heart rate for a patient_id
from a specific time</p>
<p>This function receives a POST request containing the keys
patient_id, and heart_rate_average_since. This function
first verifies that the keys and values are correct, and
returns an error string if not. Then this function calls
the function find_patient() which returns patient info for
the patient_id. The function then finds the average heart_rate
for all readings from the time specified by the input dictionary.
:return: a float giving the average heart_rate since the time specified</p>
</dd></dl>

<dl class="py function">
<dt id="heart_rate_server.post_new_attending">
<code class="sig-prename descclassname">heart_rate_server.</code><code class="sig-name descname">post_new_attending</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#heart_rate_server.post_new_attending" title="Permalink to this definition">¶</a></dt>
<dd><p>This function stores the physician information</p>
<p>This function receives a POST request from a client that has
a dictionary containing attending physician information.
The dictionary includes the attending_username,
attending_email, and attending_phone.
This function first verifies that the dictionary sent has
the correct key names and value types. If the input data
is not correct, then an error string and a status code of 400
is returned to the client. Then the function attempts to send
the attending physician information to the attending_db. If the
patient is  successfully added to the attendant_db then
a status code of 200 is returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A string saying whether the attending physician
was added or if there was an error and a corresponding
status code</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="heart_rate_server.post_new_patient">
<code class="sig-prename descclassname">heart_rate_server.</code><code class="sig-name descname">post_new_patient</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#heart_rate_server.post_new_patient" title="Permalink to this definition">¶</a></dt>
<dd><p>This function stores a new patient’s information in patient_db</p>
<p>This function receives a POST request from a client that has
a dictionary containing patient information. The dictionary
includes the patient_id, attending_username, and patient_age.
This function first verifies that the dictionary sent has
the correct key names and value types. If the input data
is not correct, then an error string and a status code of 400
is returned to the client. Then the function attempts to send
the patient_id to be stored in their attending physician’s
database. If their is no attending physician with the code
given in the input dictionary then the function will return
the proper error message and the status code of 400. If the
patient is  successfully added to the patient_db and
attendant_db then a status code of 200 is returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A string saying whether the patient was added or if</p>
</dd>
</dl>
<p>there was an error and a corresponding status code</p>
</dd></dl>

<dl class="py function">
<dt id="heart_rate_server.read_attending">
<code class="sig-prename descclassname">heart_rate_server.</code><code class="sig-name descname">read_attending</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">in_dict</span></em><span class="sig-paren">)</span><a class="headerlink" href="#heart_rate_server.read_attending" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads in attendant information from input dictionary</p>
<p>The attendant information is input in a dictionary in the following
format:
{“attending_username”: “Smith.J”,</p>
<blockquote>
<div><p>“attending_email”: “<a class="reference external" href="mailto:dr_user_id&#37;&#52;&#48;yourdomain&#46;com">dr_user_id<span>&#64;</span>yourdomain<span>&#46;</span>com</a>”,
“attending_phone”: “919-867-5309}</p>
</div></blockquote>
<p>This function extracts each value from the dictionary</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>in_dict</strong> – Dictionary containing attendant info</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list containing attendant info</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="heart_rate_server.read_heart_rate_info">
<code class="sig-prename descclassname">heart_rate_server.</code><code class="sig-name descname">read_heart_rate_info</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">in_dict</span></em><span class="sig-paren">)</span><a class="headerlink" href="#heart_rate_server.read_heart_rate_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads in patient ID and heart rate</p>
<p>A patient dictionary is input into this function and the
patient id and heart rate data are output in a list</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>in_dict</strong> – dictionary containing patient data</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list containing patient ID and list of heart rates</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="heart_rate_server.read_patient">
<code class="sig-prename descclassname">heart_rate_server.</code><code class="sig-name descname">read_patient</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">in_dict</span></em><span class="sig-paren">)</span><a class="headerlink" href="#heart_rate_server.read_patient" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads in patient information from input dictionary</p>
<p>The attendant information is input in a dictionary in the following
format:
{“patient_id”: 1, # usually this would be the patient MRN</p>
<blockquote>
<div><p>“attending_username”: “Smith.J”,
“patient_age”: 50, # in years}</p>
</div></blockquote>
<p>This function extracts each value from the dictionary</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>in_dict</strong> – dictionary containing patient info</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list containing patient info</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="heart_rate_server.send_email">
<code class="sig-prename descclassname">heart_rate_server.</code><code class="sig-name descname">send_email</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">hr_info</span></em>, <em class="sig-param"><span class="n">timestamp</span></em><span class="sig-paren">)</span><a class="headerlink" href="#heart_rate_server.send_email" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends email using server to attendant if patient is tachycardic</p>
<p>If a tachycardic event occurs to a patient, this method creates and
sends an email to that patient’s attendant saying they have tachycardia.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>hr_info</strong> – list containing patient ID and heart rate data point</p></li>
<li><p><strong>timestamp</strong> – str containing timestamp</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>str containing email text if email sent,
str “Physician not in database” error 400 otherwise</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="heart_rate_server.verify_attendant_exists">
<code class="sig-prename descclassname">heart_rate_server.</code><code class="sig-name descname">verify_attendant_exists</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">attending_username</span></em><span class="sig-paren">)</span><a class="headerlink" href="#heart_rate_server.verify_attendant_exists" title="Permalink to this definition">¶</a></dt>
<dd><p>This function verifies that a dictionary with the
attending_username exists in attending_db</p>
<p>This function receives the attending_username as
input and uses a for loop to see if any of the stored
physician information in the attending_db has the
attending_username sent as the input. If there is one,
Then this function returns true. If not, then this function
returns a string notifying the client.
:param attending_username: the username of a physician
:return: True if a dictionary exists that has the
attending_username, or a string explaining otherwise</p>
</dd></dl>

<dl class="py function">
<dt id="heart_rate_server.verify_heart_rate_post">
<code class="sig-prename descclassname">heart_rate_server.</code><code class="sig-name descname">verify_heart_rate_post</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">in_dict</span></em><span class="sig-paren">)</span><a class="headerlink" href="#heart_rate_server.verify_heart_rate_post" title="Permalink to this definition">¶</a></dt>
<dd><p>This function verifies the input information for post_heart_rate()</p>
<p>This function receives the dictionary containing the input
from the function post_heart_rate(). The function uses a for
loop to check if the key strings are the same as the expected
key strings and that the value types are the same as
the expected value types. If the keys are incorrect, then a
string notifying the client that a key is missing is returned.
If a value type is incorrect, then the function
check_if_bad_input() is called to see if a value contains a
numeric string. If this too fails, then a string is returned
to the patient saying that a specific value is of the wrong type.
If nothing is wrong, then this function returns True.
:param in_dict: a dictionary sent from the client
:return: True if the dictionary has the correct keys and value
types and a string explaining why the dictionary is wrong
otherwise.</p>
</dd></dl>

<dl class="py function">
<dt id="heart_rate_server.verify_internal_average">
<code class="sig-prename descclassname">heart_rate_server.</code><code class="sig-name descname">verify_internal_average</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">in_dict</span></em><span class="sig-paren">)</span><a class="headerlink" href="#heart_rate_server.verify_internal_average" title="Permalink to this definition">¶</a></dt>
<dd><p>This function verifies the input information for post_interval_average()</p>
<p>This function receives the dictionary containing the input
from the function post_interval_average(). The function uses a for
loop to check if the key strings are the same as the expected
key strings and that the value types are the same as
the expected value types. If the keys are incorrect, then a
string notifying the client that a key is missing is returned.
If a value type is incorrect, then the function
check_if_bad_input() is called to see if a value contains a
numeric string. If this too fails, then a string is returned
to the patient saying that a specific value is of the wrong type.
If nothing is wrong, then this function returns True.
:param in_dict: a dictionary sent from the client
:return: True if the dictionary has the correct keys and value
types and a string explaining why the dictionary is wrong
otherwise.</p>
</dd></dl>

<dl class="py function">
<dt id="heart_rate_server.verify_new_attending">
<code class="sig-prename descclassname">heart_rate_server.</code><code class="sig-name descname">verify_new_attending</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">in_dict</span></em><span class="sig-paren">)</span><a class="headerlink" href="#heart_rate_server.verify_new_attending" title="Permalink to this definition">¶</a></dt>
<dd><p>This function verifies the input information for post_new_attending()</p>
<p>This function receives the dictionary containing the input
from the function post_new_attending(). The function uses a for
loop to check if the key strings are the same as the expected
key strings and that the value types are the same as
the expected value types. If the keys are incorrect, then a
string notifying the client that a key is missing is returned.
If a value type is incorrect, then a string is returned
to the patient saying that a specific value is of the wrong type.
If nothing is wrong, then this function returns True.
:param in_dict: a dictionary sent from the client
:return: True if the dictionary has the correct keys and value
types and a string explaining why the dictionary is wrong
otherwise.</p>
</dd></dl>

<dl class="py function">
<dt id="heart_rate_server.verify_new_patient_info">
<code class="sig-prename descclassname">heart_rate_server.</code><code class="sig-name descname">verify_new_patient_info</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">in_dict</span></em><span class="sig-paren">)</span><a class="headerlink" href="#heart_rate_server.verify_new_patient_info" title="Permalink to this definition">¶</a></dt>
<dd><p>This function verifies the input information for post_new_patient()</p>
<p>This function receives the dictionary containing the input
from the function post_new_patient(). The function uses a for
loop to check if the key strings are the same as the expected
key strings and that the value types are the same as
the expected value types. If the keys are incorrect, then a
string notifying the client that a key is missing is returned.
If a value type is incorrect, then the function
check_if_bad_input() is called to see if a value contains a
numeric string. If this too fails, then a string is returned
to the patient saying that a specific value is of the wrong type.
If nothing is wrong, then this function returns True.
:param in_dict: a dictionary sent from the client
:return: True if the dictionary has the correct keys and value
types and a string explaining why the dictionary is wrong
otherwise.</p>
</dd></dl>

</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">heart-rate-sentinel-server</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">heart_rate_server module</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="index.html" title="previous chapter">Welcome to heart-rate-sentinel-server’s documentation!</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020, Therien, Duncan.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.1.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/heart_rate_server.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>